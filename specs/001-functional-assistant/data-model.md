# Data Model: Phase 2 - Functional Assistant (Silver Tier)

## Overview
This document defines the data structures and entities for the Silver Tier functionality of the Personal AI Employee.

## Core Entities

### Watcher Event
**Definition**: Represents a trigger detected by a watcher that requires processing
**Fields**:
- id: Unique identifier for the event
- source: Source of the event (email, filesystem, whatsapp)
- timestamp: When the event was detected
- trigger_type: Type of trigger (new_email, file_created, message_received)
- payload: Raw data from the source
- metadata: Additional contextual information

### Action Item (Needs_Action Entry)
**Definition**: Structured item created in /Needs_Action directory for human review
**Fields**:
- title: Descriptive title for the action item
- created: Timestamp of creation
- source: Source that generated the item
- priority: Priority level (high, medium, low)
- status: Current status (pending, in_progress, completed)
- description: Detailed description of the required action
- action_required: Specific action needed from the user
- related_links: Links to related resources
- notes: Space for user notes during review

### Plan.md
**Definition**: Structured plan document generated by Claude Code
**Fields**:
- objectives: Clear objectives for the plan
- steps: Ordered list of steps to complete
- approval_markers: Indicators of which steps require approval
- dependencies: Order dependencies between steps
- estimated_time: Estimated time for completion
- success_criteria: Criteria for plan completion

### Approval Request
**Definition**: Request for human approval before executing sensitive actions
**Fields**:
- id: Unique identifier for the approval request
- action_type: Type of action requiring approval
- description: Description of what will happen when approved
- approval_required: List of specific approvals needed
- created_timestamp: When the request was created
- status: Current status (pending, approved, rejected)
- approver_notes: Notes from the approver

### Schedule Configuration
**Definition**: Configuration for scheduled execution
**Fields**:
- schedule_id: Unique identifier for the schedule
- interval: How often to execute (minutes, hours)
- enabled: Whether the schedule is active
- last_run: Timestamp of last execution
- next_run: Timestamp of next scheduled execution
- trigger_actions: What actions to trigger on schedule

## State Transitions

### Action Item Lifecycle
- Created in /Needs_Action (status: pending)
- Reviewed by human (status: in_progress)
- Moved to /Pending_Approval (status: pending_approval)
- Approved by human (status: approved) -> Moved to /Approved
- Rejected by human (status: rejected) -> Moved to /Rejected

### Approval Request Lifecycle
- Created when sensitive action detected (status: pending)
- Waits in /Pending_Approval directory (status: pending)
- Human approves (status: approved) -> Action executed
- Human rejects (status: rejected) -> Action cancelled

## File System Structure
- `/phase-2/` - Root for Phase 2 code
- `/phase-2/vault/` - Obsidian vault (from Phase 1)
  - `/Inbox/` - Incoming items
  - `/Needs_Action/` - Items requiring review
  - `/Done/` - Completed items
  - `/Pending_Approval/` - Items awaiting approval
  - `/Approved/` - Approved items
  - `/Rejected/` - Rejected items
- `/phase-2/plans/` - Generated Plan.md files
- `/phase-2/config/` - Configuration files